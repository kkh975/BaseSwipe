/*!*
 * @autor: Blim - Koo Chi Hoon(kkh975@naver.com)
 * @license http://blim.mit-license.org/
 */
function SwipeBase(t){"use strict";function e(){if(T=Y.extend(X,t),C=Y.isArray(T.wrap)?T.wrap:Y.dom2Array(T.wrap),M=Y.isArray(T.list)?T.list:Y.dom2Array(T.list),!M||!C)return!1;if(H=M.length,C=C[0],A=C.parentNode,V=Y.getCssPrefix(),T.touchMinumRange=Math.max(1,Math.min(100,T.touchMinumRange)),2>H)return!1;if(!(Y.hasCss3Animation()&&"addEventListener"in window&&"querySelector"in document))return!1;if(T.slideShowTime&&("boolean"==typeof T.slideShowTime&&(z=T.slideShowTime,z&&(T.slideShowTime=X.slideShowTime)),"string"==typeof T.slideShowTime&&(T.slideShowTime=parseInt(T.slideShowTime,10)),isNaN(T.slideShowTime)?z=!1:(z=!0,2*T.duration>=T.slideShowTime&&(T.slideShowTime=2*T.duration))),T.toStart&&($=Y.isArray(T.toStart)?T.toStart:Y.dom2Array(T.toStart),Y.setBtnEvent($,T.startEvents,s)),T.toStop&&(B=Y.isArray(T.toStop)?T.toStop:Y.dom2Array(T.toStop),Y.setBtnEvent(B,T.stopEvents,i)),T.toPrev&&(N=Y.isArray(T.toPrev)?T.toPrev:Y.dom2Array(T.toPrev),Y.setBtnEvent(N,T.moveEvents,v)),T.toNext&&(P=Y.isArray(T.toNext)?T.toNext:Y.dom2Array(T.toNext),Y.setBtnEvent(P,T.moveEvents,p)),T.pages&&(L=Y.isArray(T.pages)?T.pages:Y.dom2Array(T.pages),Y.setBtnEvent(L,T.moveEvents,function(t){m(t)})),2===H&&T.loop){var e=null;e=M[0].cloneNode(!0),M.push(e),C.appendChild(e),e=M[1].cloneNode(!0),M.push(e),C.appendChild(e),J=!0,H=4}T.startIdx=Math.max(T.startIdx,0),T.startIdx=Math.min(T.startIdx,M.length),d(T.startIdx),window.addEventListener("resize",r),A.addEventListener("touchstart",q.setStart);for(var n=M.length;--n>-1;)M[n].addEventListener("focus",i,!1),M[n].addEventListener("blur",s,!1);return!0}function n(){A.style.overflow="hidden",C.style.position="relative",Y.setCss3Transition(C,0,0),D=A.offsetWidth;for(var t=0,e=0,n=H,o=u()*-b;n>t;t++)e=b*t,e+=o,T.loop&&(b*(n-1)===e&&(e=-1*b),-1*b>e&&(e+=b*n)),M[t].style.position="absolute",Y.setCss3Transition(M[t],0,e);s(),"function"==typeof T.create&&T.create(u())}function o(){var t=M.length;for(window.removeEventListener("resize",r),A.removeEventListener("touchstart",q.setStart);--t>-1;)M[t].removeEventListener("focus",i,!1),M[t].removeEventListener("blur",s,!1)}function s(){z&&null===k&&(k=setInterval(p,T.slideShowTime))}function i(){clearInterval(k),k=null}function r(){D=A.offsetWidth}function a(t){C.style.height=t||M[u()].offsetHeight}function u(){return O}function d(t){O=t}function f(){return W}function l(t){W=t}function c(){var t=u();return--t<0&&(t=T.loop?H-1:-1),t}function h(){var t=u();return++t>H-1&&(t=T.loop?0:-1),t}function v(){m(c(),"prev")}function p(){m(h(),"next")}function m(t,e){var n=u(),o=t-n,s=1===arguments.length;return j?!1:t===n?!1:0>t||t>H-1?!1:J&&s&&(t>1||t%2===n%2)?!1:(s&&(e=o>0?"next":"prev"),J&&s&&t%2===1&&n%2===0&&(e="next"),A.addEventListener(V.transitionsendJs,g,!1),l(t),y(e),void w(T.duration,e))}function y(t){var e=u(),n=f();S(),Y.setCss3Transition(M[e],0,0),Y.setCss3Transition(M[n],0,"next"===t?b:-b),"function"==typeof T.before&&T.before(J?e%2:e)}function w(t,e){var n=u(),o=f(),s=Y.getCss3TransformPos(C),i=R="next"===e?-b:b;d(o),q.is_drag&&s%b==0?g():(q.is_drag?(t=t*(b-Math.abs(s))/b,t=Math.abs(t),t=Math.max(t,10)):t=t,Y.setCss3Transition(C,t,i),setTimeout(function(){0==Y.getCss3TransformPos(M[n])&&j&&g()},t+100))}function g(){for(var t=u(),e=c(),n=h(),o=H;--o>-1;)M[o].style.display=o==t||o==e||o==n?"block":"none";R=0,Y.setCss3Transition(C,0,R),Y.setCss3Transition(M[t],0,0),-1!==e&&Y.setCss3Transition(M[e],0,-b),-1!==n&&Y.setCss3Transition(M[n],0,b),A.removeEventListener(V.transitionsendJs,g,!1),x(),"function"==typeof T.active&&T.active(J?t%2:t)}function S(){j=!0,i()}function x(){j=!1,s()}function _(){I=!1}function E(t){I=t||!0}var b=100,T=null,A=null,C=null,M=null,L=null,$=null,B=null,N=null,P=null,k=null,I=!1,J=!1,z=!1,j=!1,D=0,R=0,H=0,O=0,W=0,V={},X={wrap:null,list:null,pages:null,toStart:null,toStop:null,toPrev:null,toNext:null,startEvents:"click",stopEvents:"click",moveEvents:"click",pageEvents:"click",startIdx:0,slideShowTime:3e3,touchMinumRange:10,scrollMinumRange:20,sideTouchLock:!1,loop:!0,duration:300,create:null,before:null,active:null},Y={extend:function(t,e){var n=null,o={};for(n in t)o[n]=n in e?e[n]:t[n];return o},isArray:function(t){return t&&"[object Array]"===Object.prototype.toString.call(t)},dom2Array:function(t){var e=[],n=0,o=0;if(t){if(o=t.length,o>0)for(n=0;o>n;n++)e.push(t[n]);else e.push(t);return e}return null},object2Array:function(t){var e=[];for(var n in t)e.push(t[n]);return e},getCssPrefix:function(){var t=["-webkit-transition","transition"],e=["-webkit-transform","transform"],n=["webkitTransition","transition"],o=["webkitTransform","transform"],s=["webkitTransitionEnd","transitionend"],i=window.getComputedStyle(document.body,""),r=(Y.object2Array(i).join("").match(/-(webkit|moz|ms|o)-/)||""===i.OLink&&["","o"])[1],a="WebKit|Moz|MS|O".match(new RegExp("("+r+")","i"))[1],u="webkit"===r;return{prefixCss:r,prefixJs:a.toLowerCase(),transitionsCss:t[u?0:1],transformsCss:e[u?0:1],transformsJs:o[u?0:1],transitionsJs:n[u?0:1],transitionsendJs:s[u?0:1]}},hasCss3Animation:function(){return V.transitionsJs in document.createElement("div").style},getCss3TransformPos:function(t){var e="";return e=t.style[V.transformsJs],e=e.substring(e.indexOf("(")+1,e.indexOf("%")),parseFloat(e)},setCss3Transition:function(t,e,n){Y.setCss3(t,"transition",e+"ms"),Y.setCss3(t,"transform","translate3d("+n+"%, 0, 0)")},setCss3:function(t,e,n){"transition"===e?t.style[V.transitionsJs]="ease-out "+n:"transform"===e?t.style[V.transformsJs]=n:(t.style[e]=n,t.style["-"+V.prefixJs+"-"+e]=n)},setBtnEvent:function(t,e,n){for(var o=e.split(","),s=o.length,i=t.length;--s>-1;)for(;--i>-1;)!function(e){t[e].addEventListener(o[s],function(t){n(e),t.preventDefault()})}(i)}},q={is_drag:null,is_disable:!1,touch_start_x:0,touch_start_y:0,touch_move_x1:0,touch_move_y1:0,move_dx:0,setInitVaiable:function(){q.is_drag=null,q.is_disable=!1,q.touch_start_x=0,q.touch_start_y=0,q.touch_move_x1=0,q.touch_move_y1=0,q.move_dx=0},canPrevMove:function(){return T.loop||-1!==c()?!0:!1},canNextMove:function(){var t=h(),e=(J?H-2:H)-1;return!T.loop&&(-1===t||t>e)?!1:!0},setStart:function(t){I===!0||j||"touchstart"!==t.type||1!==t.touches.length||(i(),q.is_drag=null,q.touch_start_x=t.touches[0].pageX,q.touch_start_y=t.touches[0].pageY),A.addEventListener("touchmove",q.setMove),A.addEventListener("touchend",q.setEnd),A.addEventListener("touchcancel",q.setEnd)},setMove:function(t){if(I!==!0&&!j){var e=u(),n=0,o=0,s=!1;"touchmove"===t.type&&1===t.touches.length&&(q.touch_move_x1=t.touches[0].pageX,q.touch_move_y1=t.touches[0].pageY,n=q.touch_move_x1-q.touch_start_x,o=q.touch_move_y1-q.touch_start_y,s=0>n,q.move_dx=n/D*100,q.move_dx=Math.max(-100,Math.min(100,q.move_dx)),q.is_disable=s&&("next"===I||"right"===I)||!s&&("prev"===I||"left"===I),!T.loop&&T.sideTouchLock&&(!s&&0===e||s&&e===H-1)&&(q.is_disable=!0),null==q.is_drag&&(q.is_drag=q.is_drag||Math.abs(n)>Math.abs(o)),q.is_drag&&!q.is_disable&&(t.preventDefault(),q.is_drag=!0,Y.setCss3Transition(C,0,(T.loop?0:R)+q.move_dx)))}},setEnd:function(t){if(!q.is_disable&&!j){var e=Math.abs(q.move_dx)>T.touchMinumRange,n=q.move_dx<0,o=n?q.canNextMove():q.canPrevMove();q.is_drag&&e&&o?n?p():v():Y.setCss3Transition(C,T.duration,T.loop?0:R)}A.removeEventListener("touchmove",q.setMove),A.removeEventListener("touchend",q.setEnd),A.removeEventListener("touchcancel",q.setEnd),q.setInitVaiable()}};return e()?(n(),{startSlideShow:s,stopSlideShow:i,refreshSize:r,setHeight:a,getIdx:u,toNext:p,toPrev:v,toSlide:m,destory:o,touchEnable:_,touchDisable:E}):void 0}!function(t){"use strict";var e="SwipeBase";t.fn.swipeBase=function(n){return n=n||{},n.$list=n.$list||t(this).find("> ul > li"),n.$wrap=n.$wrap||t(this).find("> ul"),n.wrap=n.$wrap.toArray()||[],n.list=n.$list.toArray()||[],n.pages=n.$pages&&n.$pages.toArray?n.$pages.toArray():[],n.toStart=n.$toStart&&n.$toStart.toArray?n.$toStart.toArray():[],n.toStop=n.$toStop&&n.$toStop.toArray?n.$toStop.toArray():[],n.toPrev=n.$toPrev&&n.$toPrev.toArray?n.$toPrev.toArray():[],n.toNext=n.$toNext&&n.$toNext.toArray?n.$toNext.toArray():[],this.each(function(){t(this).data(e,new SwipeBase(n))})},t.fn.swipeBase2start=function(){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.startSlideShow&&n.startSlideShow()})},t.fn.swipeBase2stop=function(){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.stopSlideShow&&n.stopSlideShow()})},t.fn.swipeBase2refresh=function(){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.refreshSize&&n.refreshSize()})},t.fn.swipeBase2setHeight=function(n){return this.each(function(){var o=t(this).data(e);"undefined"!=typeof o&&"undefined"!=typeof o.setHeight&&o.setHeight(n)})},t.fn.swipeBase2prev=function(){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.toPrev&&n.toPrev()})},t.fn.swipeBase2next=function(){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.toNext&&n.toNext()})},t.fn.swipeBase2slide=function(n){return this.each(function(){var o=t(this).data(e);"undefined"!=typeof o&&"undefined"!=typeof o.toSlide&&o.toSlide(n)})},t.fn.swipeBase2destory=function(n){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.destory&&n.destory()})},t.fn.swipeBase2touchEnable=function(){return this.each(function(){var n=t(this).data(e);"undefined"!=typeof n&&"undefined"!=typeof n.touchEnable&&n.touchEnable()})},t.fn.swipeBase2touchDisable=function(n){return this.each(function(){var o=t(this).data(e);"undefined"!=typeof o&&"undefined"!=typeof o.touchDisable&&o.touchDisable(n||!0)})}}(jQuery);